<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>GD Orbit Ball Pit</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <style>
        body { margin: 0; overflow: hidden; background-color: #050505; }
        canvas { display: block; }
    </style>
</head>
<body>
<script>
    const { Engine, Render, Runner, Bodies, Composite, Mouse, MouseConstraint, Events } = Matter;

    // Configuración
    let engine = Engine.create();
    let world = engine.world;
    let width = window.innerWidth;
    let height = window.innerHeight;

    let render = Render.create({
        element: document.body,
        engine: engine,
        options: {
            width: width,
            height: height,
            wireframes: false,
            background: '#0a0a1a' // Color de fondo oscuro estilo GD
        }
    });

    Render.run(render);
    let runner = Runner.create();
    Runner.run(runner, engine);

    // Paredes invisibles
    const ground = Bodies.rectangle(width / 2, height + 30, width, 60, { isStatic: true });
    const leftWall = Bodies.rectangle(-30, height / 2, 60, height, { isStatic: true });
    const rightWall = Bodies.rectangle(width + 30, height / 2, 60, height, { isStatic: true });
    Composite.add(world, [ground, leftWall, rightWall]);

    // Colores de orbes estilo GD (Azul, Cian, Rosa, Amarillo)
    const colors = ['#23e1ff', '#ff23e1', '#ffff23', '#23ff6a'];

    // Función para crear orbes
    function createBall() {
        const x = Math.random() * width;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const ball = Bodies.circle(x, -50, 15 + Math.random() * 10, {
            restitution: 0.7, // Rebote
            friction: 0.05,
            render: { fillStyle: color, strokeStyle: 'white', lineWidth: 2 }
        });
        Composite.add(world, ball);
    }

    // Lluvia inicial de orbes
    for (let i = 0; i < 150; i++) {
        setTimeout(createBall, i * 50);
    }

    // Interacción con el Mouse (Repulsión)
    const mouse = Mouse.create(render.canvas);
    
    Events.on(engine, 'afterUpdate', function() {
        if (!mouse.position.x) return;
        
        const bodies = Composite.allBodies(world);
        for (let i = 0; i < bodies.length; i++) {
            let body = bodies[i];
            if (body.isStatic) continue;

            let forceMagnitude = 0.03; // Fuerza de empuje
            let distance = Math.hypot(body.position.x - mouse.position.x, body.position.y - mouse.position.y);

            if (distance < 150) { // Radio de interacción
                let forceX = (body.position.x - mouse.position.x) * (forceMagnitude / distance);
                let forceY = (body.position.y - mouse.position.y) * (forceMagnitude / distance);
                Matter.Body.applyForce(body, body.position, { x: forceX, y: forceY });
            }
        }
    });

    // Ajustar al tamaño de la ventana
    window.addEventListener('resize', () => {
        render.canvas.width = window.innerWidth;
        render.canvas.height = window.innerHeight;
    });

</script>
</body>
</html>
